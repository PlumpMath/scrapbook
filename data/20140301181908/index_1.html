<html xmlns="http://www.w3.org/TR/REC-html40" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  
  <meta name="ProgId" content="Excel.Sheet">
  <meta name="Generator" content="WPS Office ET">
  <!--[if gte mso 9]>
   <xml>
    <o:DocumentProperties>
     <o:Author>Yanqun</o:Author>
     <o:Created>2012-06-06T09:30:27</o:Created>
     <o:LastSaved>2013-09-04T22:30:10</o:LastSaved>
    </o:DocumentProperties>
    <o:CustomDocumentProperties>
     <o:KSOProductBuildVer dt:dt="string">2052-9.1.0.4180</o:KSOProductBuildVer>
    </o:CustomDocumentProperties>
   </xml>
  <![endif]-->
  
  <!--[if gte mso 9]>
   <xml>
    <x:ExcelWorkbook>
     <x:ExcelWorksheets>
      <x:ExcelWorksheet>
       <x:Name>Sheet1</x:Name>
       <x:WorksheetOptions>
        <x:DefaultRowHeight>345</x:DefaultRowHeight>
        <x:Selected/>
        <x:TopRowVisible>8</x:TopRowVisible>
        <x:Panes>
         <x:Pane>
          <x:Number>3</x:Number>
          <x:ActiveCol>1</x:ActiveCol>
          <x:ActiveRow>4</x:ActiveRow>
          <x:RangeSelection>B5</x:RangeSelection>
         </x:Pane>
        </x:Panes>
        <x:ProtectContents>False</x:ProtectContents>
        <x:ProtectObjects>False</x:ProtectObjects>
        <x:ProtectScenarios>False</x:ProtectScenarios>
        <x:PageBreakZoom>100</x:PageBreakZoom>
        <x:Print>
         <x:ValidPrinterInfo/>
         <x:PaperSizeIndex>9</x:PaperSizeIndex>
        </x:Print>
       </x:WorksheetOptions>
      </x:ExcelWorksheet>
      <x:ExcelWorksheet>
       <x:Name>Sheet2</x:Name>
       <x:WorksheetOptions>
        <x:DefaultRowHeight>285</x:DefaultRowHeight>
        <x:Panes>
         <x:Pane>
          <x:Number>3</x:Number>
          <x:ActiveCol>0</x:ActiveCol>
          <x:ActiveRow>0</x:ActiveRow>
         </x:Pane>
        </x:Panes>
        <x:ProtectContents>False</x:ProtectContents>
        <x:ProtectObjects>False</x:ProtectObjects>
        <x:ProtectScenarios>False</x:ProtectScenarios>
        <x:PageBreakZoom>100</x:PageBreakZoom>
        <x:Print>
         <x:ValidPrinterInfo/>
         <x:PaperSizeIndex>9</x:PaperSizeIndex>
        </x:Print>
       </x:WorksheetOptions>
      </x:ExcelWorksheet>
      <x:ExcelWorksheet>
       <x:Name>Sheet3</x:Name>
       <x:WorksheetOptions>
        <x:DefaultRowHeight>285</x:DefaultRowHeight>
        <x:Panes>
         <x:Pane>
          <x:Number>3</x:Number>
          <x:ActiveCol>0</x:ActiveCol>
          <x:ActiveRow>0</x:ActiveRow>
         </x:Pane>
        </x:Panes>
        <x:ProtectContents>False</x:ProtectContents>
        <x:ProtectObjects>False</x:ProtectObjects>
        <x:ProtectScenarios>False</x:ProtectScenarios>
        <x:PageBreakZoom>100</x:PageBreakZoom>
        <x:Print>
         <x:ValidPrinterInfo/>
         <x:PaperSizeIndex>9</x:PaperSizeIndex>
        </x:Print>
       </x:WorksheetOptions>
      </x:ExcelWorksheet>
     </x:ExcelWorksheets>
     <x:ProtectStructure>False</x:ProtectStructure>
     <x:ProtectWindows>False</x:ProtectWindows>
     <x:WindowHeight>13180</x:WindowHeight>
     <x:WindowWidth>28140</x:WindowWidth>
    </x:ExcelWorkbook>
    <x:SupBook>
     <x:Path>C:\Documents and Settings\Administrator\桌面\</x:Path>
    </x:SupBook>
   </xml>
  <![endif]-->
 
<link rel="stylesheet" type="text/css" href="index_1.css" media="all">
</head>
<body link="blue" vlink="purple">
  <table style="width: 577.5pt; border-collapse: collapse; table-layout: fixed;" border="0" width="770" cellpadding="0" cellspacing="0">
   <colgroup><col class="xl22" style="" width="36">
   <col class="xl23" style="" width="278">
   <col class="xl24" style="" width="456">
   </colgroup><tbody><tr style="height: 18pt;" height="24">
    <td class="xl25" style="height: 18pt; width: 27pt;" height="24" width="36">
    </td><td class="xl26" style="width: 208.5pt;" x:str="" width="278">任务</td>
    <td class="xl27" style="width: 342pt;" x:str="" width="456">命令组合</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">1</td>
    <td class="xl28" x:str="">删除0字节文件</td>
    <td class="xl29" x:str="">find . -type f -size 0 -exec rm -rf {} \;<br>find . type f -size 0 -delete</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">2</td>
    <td class="xl28" x:str="">查看进程，按内存从大到小排列</td>
    <td class="xl29" x:str="">ps -e -o "%C : %p : %z : %a"|sort -k5 -nr</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">3</td>
    <td class="xl28" x:str="">按cpu利用率从大到小排列</td>
    <td class="xl29" x:str="">ps -e -o "%C : %p : %z : %a"|sort -nr</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">4</td>
    <td class="xl28" x:str="">打印说cache里的URL</td>
    <td class="xl29" x:str="">grep -r -a jpg /data/cache/* | strings | grep "http:" | awk -F'http:' '{print "http:"$2;}'</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">5</td>
    <td class="xl28" x:str="">查看http的并发请求数及其TCP连接状态</td>
    <td class="xl29" x:str="">netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">6</td>
    <td class="xl28" x:str="">sed在这个文里Root的一行，匹配Root一行，将no替换成yes。</td>
    <td class="xl29" x:str="">sed -i '/Root/s/no/yes/' /etc/ssh/sshd_config<span style="">&nbsp;</span></td>
   </tr>
   <tr style="height: 65pt;" height="86.67">
    <td class="xl25" style="height: 65pt;" x:num="" height="86.67">7</td>
    <td class="xl28" x:str="">如何杀掉mysql进程</td>
    <td class="xl29" x:str="">ps aux |grep mysql |grep -v grep<span style="">&nbsp; </span>|awk '{print $2}' |xargs kill -9 <br>killall -TERM mysqld<br>kill -9 `cat /usr/local/apache2/logs/httpd.pid`<span style="">&nbsp;</span></td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">8</td>
    <td class="xl28" x:str="">显示运行3级别开启的服务(从中了解到cut的用途，截取数据)</td>
    <td class="xl29" x:str="">ls /etc/rc3.d/S* |cut -c 15-<span style="">&nbsp;</span></td>
   </tr>
   <tr style="height: 99pt;" height="132">
    <td class="xl25" style="height: 99pt;" x:num="" height="132">9</td>
    <td class="xl28" x:str="">如何在编写SHELL显示多个信息，用EOF</td>
    <td class="xl29" x:str="">cat &lt;&lt; EOF<br>+--------------------------------------------------------------+<br>|<span style="">&nbsp;&nbsp; </span>=== Welcome to Tunoff services ===<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>|<br>+--------------------------------------------------------------+<br>EOF</td>
   </tr>
   <tr style="height: 86pt;" height="114.67">
    <td class="xl25" style="height: 86pt;" x:num="" height="114.67">10</td>
    <td class="xl28" x:str="">for的用法(如给mysql建软链接)</td>
    <td class="xl29" x:str="">cd /usr/local/mysql/bin<br>for i in *<br>do ln /usr/local/mysql/bin/$i /usr/bin/$i<br>done</td>
   </tr>
   <tr style="height: 66pt;" height="88">
    <td class="xl25" style="height: 66pt;" x:num="" height="88">11</td>
    <td class="xl28" x:str="">取IP地址</td>
    <td class="xl29" x:str="">ifconfig eth0 |grep "inet addr:" |awk '{print $2}'|cut -c 6- <br>ifconfig | grep 'inet addr:'| grep -v '127.0.0.1' |cut -d: -f2 | awk '{ print $1}'</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">12</td>
    <td class="xl28" x:str="">内存的大小</td>
    <td class="xl29" x:str="">free -m |grep "Mem" | awk '{print $2}'</td>
   </tr>
   <tr style="height: 51pt;" height="68">
    <td class="xl25" style="height: 51pt;" x:num="" height="68">13</td>
    <td class="xl28" x:str="">查看80端口的连接，并排序</td>
    <td class="xl29" x:str="">netstat -an -t | grep ":80" | grep ESTABLISHED | awk '{printf "%s %s\n",$5,$6}' | sort</td>
   </tr>
   <tr style="height: 54pt;" height="72">
    <td class="xl25" style="height: 54pt;" x:num="" height="72">14</td>
    <td class="xl28" x:str="">查看Apache的并发请求数及其TCP连接状态</td>
    <td class="xl29" x:str="">netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">15</td>
    <td class="xl28" x:str="">统计一下服务器下面所有的jpg的文件的大小</td>
    <td class="xl29" x:str="">find / -name *.jpg -exec wc -c {} \;|awk '{print $1}'|awk '{a+=$1}END{print a}'</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">16</td>
    <td class="xl28" x:str="">CPU的数量</td>
    <td class="xl29" x:str="">cat /proc/cpuinfo |grep -c processor</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">17</td>
    <td class="xl28" x:str="">CPU负载<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">cat /proc/loadavg</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">18</td>
    <td class="xl28" x:str="">CPU负载<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">mpstat 1 1</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">19</td>
    <td class="xl28" x:str="">内存空间<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">free</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">20</td>
    <td class="xl28" x:str="">磁盘空间<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">df -h</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">21</td>
    <td class="xl28" x:str="">如发现某个分区空间接近用尽，可以进入该分区的挂载点，用以下命令找出占用空间最多的文件或目录</td>
    <td class="xl29" x:str="">du -cks * | sort -rn | head -n 10</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">22</td>
    <td class="xl28" x:str="">磁盘I/O负载<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">iostat -x 1 2</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">23</td>
    <td class="xl28" x:str="">网络负载<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">sar -n DEV</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">24</td>
    <td class="xl28" x:str="">网络错误<span style="">&nbsp;</span></td>
    <td class="xl29" x:str="">netstat -i<br>cat /proc/net/dev</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">25</td>
    <td class="xl28" x:str="">网络连接数目</td>
    <td class="xl29" x:str="">netstat -an | grep -E “^(tcp)” | cut -c 68- | sort | uniq -c | sort -n</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">26</td>
    <td class="xl28" x:str="">进程总数</td>
    <td class="xl29" x:str="">ps aux | wc -l</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">27</td>
    <td class="xl28" x:str="">查看进程树</td>
    <td class="xl29" x:str="">ps aufx</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">28</td>
    <td class="xl28" x:str="">可运行进程数目</td>
    <td class="xl29" x:str="">vmwtat 1 5</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">29</td>
    <td class="xl28" x:str="">检查DNS Server工作是否正常，这里以61.139.2.69为例</td>
    <td class="xl29" x:str="">dig www.baidu.com @61.139.2.69</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">30</td>
    <td class="xl28" x:str="">检查当前登录的用户个数</td>
    <td class="xl29" x:str="">who | wc -l</td>
   </tr>
   <tr style="height: 84pt;" height="112">
    <td class="xl25" style="height: 84pt;" x:num="" height="112">31</td>
    <td class="xl28" x:str="">日志查看、搜索</td>
    <td class="xl29" x:str="">cat /var/log/rflogview/*errors<br>grep -i error /var/log/messages<br>grep -i fail /var/log/messages<br>tail -f -n 2000 /var/log/messages</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">32</td>
    <td class="xl28" x:str="">内核日志</td>
    <td class="xl29" x:str="">dmesg</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">33</td>
    <td class="xl28" x:str="">时间</td>
    <td class="xl29" x:str="">date</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">34</td>
    <td class="xl28" x:str="">已经打开的句柄数</td>
    <td class="xl29" x:str="">lsof | wc -l</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">35</td>
    <td class="xl28" x:str="">网络抓包，直接输出摘要信息到文件。</td>
    <td class="xl29" x:str="">tcpdump -c 10000 -i eth0 -n dst port 80 &gt; /root/pkts</td>
   </tr>
   <tr style="height: 72pt;" height="96">
    <td class="xl25" style="height: 72pt;" x:num="" height="96">36</td>
    <td class="xl28" x:str="">然后检查IP的重复数 并从小到大排序 注意 "-t\<span style="">&nbsp; </span>+0" 中间是两个空格，less命令的用法。</td>
    <td class="xl29" x:str="">less pkts | awk {'printf $3"\n"'} | cut -d. -f 1-4 | sort | uniq -c | awk {'printf $1" "$2"\n"'} | sort -n -t\<span style="">&nbsp; </span>+0</td>
   </tr>
   <tr style="height: 42pt;" height="56">
    <td class="xl25" style="height: 42pt;" x:num="" height="56">37</td>
    <td class="xl28" x:str="">kudzu查看网卡型号</td>
    <td class="xl29" x:str="">kudzu --probe --class=network</td>
   </tr>
  </tbody></table>
 

</body>
</html>
