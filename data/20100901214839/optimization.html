<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



            <title>Optimization - MongoDB</title>
    
        
        
        
        
        

                        
    
    
            
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="atlassian-token" name="atlassian-token" content="yhfQmnp0a3">
<meta id="confluence-space-key" name="confluence-space-key" content="DOCS">



    

<!-- include system resources -->

<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:master-styles/confluence.web.resources:master-styles.css?ieonly=true" media="all"/>
<![endif]-->





<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.macros.profile:profile-macro-styles/confluence.macros.profile:profile-macro-styles.css?ieonly=true" media="all"/>
<![endif]-->



















<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:comments/confluence.web.resources:comments.css?ieonly=true" media="all"/>
<![endif]-->







<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0.2/_/download/batch/com.atlassian.auiplugin:dialog/com.atlassian.auiplugin:dialog.css?ieonly=true" media="all"/>
<![endif]-->






<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:userlink/confluence.web.resources:userlink.css?ieonly=true" media="all"/>
<![endif]-->




<!-- end system resources -->

    

    <meta name="confluence-request-time" content="1283349030795">

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="http://www.mongodb.org/opensearch/osd.action" title="10gen Confluence">

    
        
        
    
    <link rel="shortcut icon" href="favicon_001.ico">  

<link rel="stylesheet" type="text/css" href="optimization.css" media="all">
</head><body id="com-atlassian-confluence">
    


    

        
  
    


  <div id="top-right">
    <div class="user-right">
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="browse-menu-link-leading" class="section-leading first">
                                        <li>
    
    <a id="space-pages-link" href="http://www.mongodb.org/pages/listpages.action?key=DOCS" class="">
                   <span>Pages</span>            </a>
</li>
                                        <li>
    
    <a id="space-blogposts-link" href="http://www.mongodb.org/pages/viewrecentblogposts.action?key=DOCS" class="">
                   <span>News</span>            </a>
</li>
                                        <li>
    
    <a id="space-labels-link" href="http://www.mongodb.org/labels/listlabels-heatmap.action?key=DOCS" class="">
                   <span>Labels</span>            </a>
</li>
                                        <li>
    
    <a id="space-attachments-link" href="http://www.mongodb.org/spaces/listattachmentsforspace.action?key=DOCS" class="">
                   <span>Attachments</span>            </a>
</li>
                                        <li>
    
    <a href="http://www.mongodb.org/spaces/space-bookmarks.action?spaceKey=DOCS" class="">
                   <span>Bookmarks</span>            </a>
</li>
                                        <li>
    
    <a id="space-mail-link" href="http://www.mongodb.org/spaces/viewmailarchive.action?key=DOCS" class="">
                   <span>Mail</span>            </a>
</li>
                                        <li>
    
    <a id="space-advanced-link" href="http://www.mongodb.org/spaces/viewspacesummary.action?key=DOCS" class="">
                   <span>Advanced</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
    
    <a id="login-link" href="http://www.mongodb.org/login.action?os_destination=%2Fdisplay%2FDOCS%2FOptimization" class="user-item login-link">
                   <span>Log In</span>            </a>
</li>
                            </ul>
    </div>
  </div>
  

      <div class="search-db">
      <form id="quick-search" class="quick-search" method="get" action="http://www.mongodb.org/dosearchsite.action">
                <fieldset>
            <legend>Quick Search</legend>
            <input value="" class="quick-search-query" id="quick-search-query" accesskey="q" autocomplete="off" name="queryString" size="25" type="text">
            <input class="quick-search-submit" id="quick-search-submit" value="Search" type="submit">
        </fieldset>
        <fieldset class="hidden parameters">
            <input class="quickSearchPlaceholder" id="quickSearchPlaceholder" value="Search" type="hidden">

            <input id="quickNavEnabled" value="true" type="hidden">
             <!-- Quick nav disabled. SettingsManager could not be found -->         </fieldset>
    </form>
      </div>  


  <div id="header-db" class="spread">
    <div class="split">
    	<div id="logo">
    		<div><a href="http://www.mongodb.org/"><img src="logo-mongodb.png" alt="mongoDB" height="90" width="217"></a></div>
    	</div>
    	<div id="nav">
    	</div>
    </div>
  </div>

  <div id="breadcrumbsback" class="spread">
    <div class="split">

    
    <ol id="breadcrumbs">
                                                
            <li><span>
                                                    <a href="http://www.mongodb.org/display/DOCS">MongoDB</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="home.html">Home</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="index.html">Developer Zone</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="manual.html">Manual</a>
                        </span></li>
                                            
            <li><span>
                                                    Optimization
                        </span></li>
                </ol>
 
    </div>
  </div>

  <div id="main-db" class="spread">
    <div class="split">
    
                <ul id="user-control-panel">
                                
            <li class="first"><a href="http://www.mongodb.org/login.action?os_destination=%2Fdisplay%2FDOCS%2FOptimization">Log In</a></li>

                                                        </ul>
        <div>
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input id="pageId" value="1475666" type="hidden">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
            <li class="normal ajs-menu-item">
        <a id="add-menu-link" class="add trigger ajs-menu-title" href="#"><span><span>Add</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="add-menu-link-page" class="section-page first">
                                        <li>
    
    <a id="add-comment-menu-link" href="http://www.mongodb.org/display/DOCS/Optimization?showComments=true&amp;showCommentArea=true#addcomment" class="add-comment">
                   <span>Comment</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
                    
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="action-menu-link-primary" class="section-primary first">
                                        <li>
    
    <a id="view-attachments-link" href="http://www.mongodb.org/pages/viewpageattachments.action?pageId=1475666" class="action-view-attachments" accesskey="a">
                   <span><u>A</u>ttachments (0)</span>            </a>
</li>
                                        <li>
    
    <a id="action-view-history-link" href="http://www.mongodb.org/pages/viewpreviousversions.action?pageId=1475666" class="action-view-history">
                   <span>Page History</span>            </a>
</li>
                            </ul>
                        <ul id="action-menu-link-secondary" class="section-secondary">
                                        <li>
    
    <a id="view-page-info-link" href="http://www.mongodb.org/pages/viewinfo.action?pageId=1475666" class="action-view-info" accesskey="i">
                   <span><u>I</u>nfo</span>            </a>
</li>
                                        <li>
    
    <a id="action-view-source-link" href="http://www.mongodb.org/pages/viewpagesrc.action?pageId=1475666" class="action-view-source popup-link">
                   <span>View Wiki Markup</span>            </a>
</li>
                                        <li>
    
    <a href="http://www.mongodb.org/spaces/flyingpdf/pdfpageexport.action?pageId=1475666&amp;atl_token=yhfQmnp0a3" class="">
                   <span>Export to PDF</span>            </a>
</li>
                                        <li>
    
    <a id="action-export-word-link" href="http://www.mongodb.org/exportword?pageId=1475666" class="action-export-word">
                   <span>Export to Word</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    </div>
    <h1 id="title-heading" class="pagetitle">
                            
		<span id="title-text">
					            <a indepth="true" href="optimization.html">Optimization</a>
    				</span>
    </h1>

    <!--
    Root decorator: this is a layer of abstraction that Confluence doesn't need. It will be removed eventually.
-->




    
    

    
    
        
    
    
                    
    



        
<div id="content" class="page view">
            
        
                        
                                
    
        
                    
        
                

 
<table cellpadding="5" cellspacing="2">
<tbody><tr>
<td class="pagecontent" align="left" valign="top" width="78%">
<div class="wiki-content">
<!-- wiki content -->
            <div>
<ul>
    <li><a href="#Optimization-OptimizingASimpleExample">Optimizing A Simple Example</a></li>
<ul>
    <li><a href="#Optimization-Optimization%231%3ACreateanindex">Optimization #1: Create an index</a></li>
    <li><a href="#Optimization-Optimization%232%3ALimitresults">Optimization #2: Limit results</a></li>
    <li><a href="#Optimization-Optimization%233%3ASelectonlyrelevantfields">Optimization #3: Select only relevant fields</a></li>
</ul>
    <li><a href="#Optimization-UsingtheProfiler">Using the Profiler</a></li>
    <li><a href="#Optimization-OptimizingStatementsthatUse%7B%7Bcount%28%29%7D%7D">Optimizing Statements that Use <tt>count()</tt></a></li>
    <li><a href="#Optimization-IncrementOperations">Increment Operations</a></li>
    <li><a href="#Optimization-CircularFixedSizeCollections">Circular Fixed Size Collections</a></li>
    <li><a href="#Optimization-ServerSideCodeExecution">Server Side Code Execution</a></li>
    <li><a href="#Optimization-Explain">Explain</a></li>
    <li><a href="#Optimization-Hint">Hint</a></li>
    <li><a href="#Optimization-SeeAlso">See Also</a></li>
</ul></div>

<h3><a name="Optimization-OptimizingASimpleExample"></a>Optimizing A Simple Example</h3>

<p>This section describes proper techniques for optimizing database performance.</p>

<p>Let's consider an example.  Suppose our task is to display the front page of a blog - we wish to display headlines of the 10 most recent posts.  Let's assume the posts have a timestamp field <tt>ts</tt>.</p>

<p>The simplest thing we could write might be:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">articles = db.posts.find().sort({ts:-1}); <span class="code-comment">// get blog posts in reverse time order
</span>
<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i=0; i&lt; 10; i++) {
   print(articles[i].getSummary());
}
</pre>
</div></div>

<h5><a name="Optimization-Optimization#1:Createanindex"></a>Optimization #1: Create an index</h5>

<p>Our first optimization should be to create an index on the key that is being used for the sorting:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.posts.ensureIndex({ts:1});
</pre>
</div></div>
<p>With an index, the database is able to sort based on index information, rather than having to check each document in the collection directly.  This is much faster.<br>
<iframe id="docframe-indexes" src="optimization_1.html" margin="0" padding="0" scrolling="no" frameborder="0" height="17" width="500"></iframe><a name="indexes" margin="0" padding="0"></a>
</p>

<h5><a name="Optimization-Optimization#2:Limitresults"></a>Optimization #2: Limit results</h5>

<p>MongoDB cursors return results in groups of documents that we'll call 'chunks'.  The chunk returned might contain more than 10 objects - in some cases, much more.  These extra objects are a waste of network transmission and resources both on the app server and the database.</p>

<p>As we know how many results we want, and that we do not want all the results, we can use the <tt>limit()</tt> method for our second optimization.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">articles = db.posts.find().sort({ts:-1}).limit(10); <span class="code-comment">// 10 results maximum</span>
</pre>
</div></div>
<p>Now, we'll only get 10 results returned to client.<br>
<iframe id="docframe-limit" src="optimization_2.html" margin="0" padding="0" scrolling="no" frameborder="0" height="17" width="500"></iframe><a name="limit" margin="0" padding="0"></a>
</p>

<h5><a name="Optimization-Optimization#3:Selectonlyrelevantfields"></a>Optimization #3: Select only relevant fields</h5>

<p>The blog post object may be very large, with the post text and comments embedded.  Much better performance will be achieved by selecting only the fields we need:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">articles = db.posts.find({}, {ts:1,title:1,author:1,<span class="code-keyword">abstract</span>:1}).sort({ts:-1}).limit(10);
articles.forEach( function(post) { print(post.getSummary()); } );
</pre>
</div></div>
<p>The above code assumes that the <tt>getSummary()</tt> method only references the fields listed in the <tt>find()</tt> method.</p>

<p>Note if you fetch only select fields, you have a partial object.  An object in that form cannot be updated back to the database:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">a_post = db.posts.findOne({}, Post.summaryFields);
a_post.x = 3;
db.posts.save(a_post); <span class="code-comment">// error, exception thrown</span>
</pre>
</div></div>

<h3><a name="Optimization-UsingtheProfiler"></a>Using the Profiler</h3>

<p>MongoDB includes a database profiler which shows performance characteristics of each operation against the database.  Using the profiler you can find queries (and write operations) which are slower than they should be; use this information, for example, to determine when an index is needed.  See the <span class="error">[Performance Tuning]</span> section of the <a href="http://www.mongodb.org/display/DOCS/Mongo+Developers%27+Guide" title="Mongo Developers' Guide">Mongo Developers' Guide</a> for more information.</p>

<h3><a name="Optimization-OptimizingStatementsthatUse{{count()}}"></a>Optimizing Statements that Use <tt>count()</tt></h3>

<p>To speed operations that rely on <tt>count()</tt>, create an index on the field involved in the count query expression.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.posts.ensureIndex({author:1});
db.posts.find({author:<span class="code-quote">"george"</span>}).count();
</pre>
</div></div>

<h3><a name="Optimization-IncrementOperations"></a>Increment Operations</h3>

<p>MongoDB supports simple object field increment operations; basically, this is an operation indicating "increment this field in this document at the server".  This can be much faster than fetching the document, updating the field, and then saving it back to the server and are particularly useful for implementing real time counters.  See the <a href="http://www.mongodb.org/display/DOCS/Updates" title="Updates">Updates</a> section of the <a href="http://www.mongodb.org/display/DOCS/Mongo+Developers%27+Guide" title="Mongo Developers' Guide">Mongo Developers' Guide</a> for more information.</p>

<h3><a name="Optimization-CircularFixedSizeCollections"></a>Circular Fixed Size Collections</h3>

<p>MongoDB provides a special circular collection type that is pre-allocated at a specific size.  These collections keep the items within well-ordered even without an index, and provide very high-speed writes and reads to the collection.  Originally designed for keeping log files - log events are stored in the database in a circular fixed size collection - there are many uses for this feature.  See the <a indepth="true" href="capped+collections.html" title="Capped Collections">Capped Collections</a> section of the <a href="http://www.mongodb.org/display/DOCS/Mongo+Developers%27+Guide" title="Mongo Developers' Guide">Mongo Developers' Guide</a> for more information.</p>

<h3><a name="Optimization-ServerSideCodeExecution"></a>Server Side Code Execution</h3>

<p>Occasionally, for maximal performance, you may wish to perform an operation in process on the database server to eliminate client/server network turnarounds.  These operations are covered in the <a href="http://www.mongodb.org/display/DOCS/Server-Side+Processing" title="Server-Side Processing">Server-Side Processing</a> section of the <a href="http://www.mongodb.org/display/DOCS/Mongo+Developers%27+Guide" title="Mongo Developers' Guide">Mongo Developers' Guide</a>.</p>

<h3><a name="Optimization-Explain"></a>Explain</h3>

<p>A great way to get more information on the performance of your database queries is to use the <tt>$explain</tt> feature.  This will display "explain plan" type info about a query from the database.</p>

<p>When using the <a indepth="true" href="mongo+-+the+interactive+shell.html" title="mongo - The Interactive Shell">mongo - The Interactive Shell</a>, you can find out this "explain plan" via the <tt>explain()</tt> function called on a cursor.  The result will be a document that contains the "explain plan".</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.collection.find(query).explain();
</pre>
</div></div>
<p>provides information such as the following:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">{
    <span class="code-quote">"cursor"</span> : <span class="code-quote">"BasicCursor"</span>,
    <span class="code-quote">"indexBounds"</span> : [ ],
    <span class="code-quote">"nscanned"</span> : 57594,
    <span class="code-quote">"nscannedObjects"</span> : 57594,
    <span class="code-quote">"n"</span> : 3 ,
    <span class="code-quote">"millis"</span> : 108
}
</pre>
</div></div>
<p>This will tell you the type of cursor used (<tt>BtreeCursor</tt> is another type – which will include a lower &amp; upper bound), the number of records the DB had to examine as part of this query, the number of records returned by the query, and the time in milliseconds the query took to execute.<br>
<iframe id="docframe-explain" src="optimization_3.html" margin="0" padding="0" scrolling="no" frameborder="0" height="17" width="500"></iframe><a name="explain" margin="0" padding="0"></a>
</p>

<h3><a name="Optimization-Hint"></a>Hint</h3>

<p>While the mongo query optimizer often performs very well, explicit "hints" can be used to force mongo to use a specified index, potentially improving performance in some situations.  When you have a collection indexed and are querying on multiple fields (and some of those fields are indexed), pass the indexe as a hint to the query.  You can do this in two different ways.  You may either set it per query, or set it for the entire collection.</p>

<p>To set the hint for a particular query, call the <tt>hint()</tt> function on the cursor before accessing any data, and specify a document with the key to be used in the query:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.collection.find({user:u, foo:d}).hint({user:1});
</pre>
</div></div>
<div class="panelMacro"><table class="tipMacro"><colgroup><col width="24"><col></colgroup><tbody><tr><td valign="top"><img src="check.gif" alt="" align="absmiddle" border="0" height="16" width="16"></td><td><b>Be sure to Index</b><br>For the above hints to work, you need to have run <tt>ensureIndex()</tt> to index the collection on the user field.</td></tr></tbody></table></div>
<p>To force the query optimizer to not use indexes (do a table scan), use:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&gt; db.collection.find().hint({$natural:1})
</pre>
</div></div>

<h3><a name="Optimization-SeeAlso"></a>See Also</h3>

<ul><li><a indepth="true" href="optimizing+storage+of+small+objects.html" title="Optimizing Storage of Small Objects">Optimizing Storage of Small Objects</a></li><li><a indepth="true" href="query+optimizer.html" title="Query Optimizer">Query Optimizer</a></li></ul>
<ul>
	<li><a indepth="true" href="viewing+and+terminating+current+operation.html" title="Viewing and Terminating Current Operation">currentOp()</a></li>
	<li><a indepth="true" href="sorting+and+natural+order.html" title="Sorting and Natural Order">Sorting and Natural Order</a></li>
</ul>
</div>
</td>
<td class="noprint" align="left" valign="top" width="22%">
<div class="spacetree">
                                            
    

<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input name="treeId" value="" type="hidden">
        <input name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" type="hidden">
        <input name="treePageId" value="1475666" type="hidden">

        <input name="noRoot" value="false" type="hidden">
        <input name="rootPageId" value="131081" type="hidden">

        <input name="rootPage" value="" type="hidden">
        <input name="startDepth" value="0" type="hidden">
        <input name="spaceKey" value="DOCS" type="hidden">

        <input name="i18n-pagetree.loading" value="Loading..." type="hidden">
        <input name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2FDOCS%2FOptimization" type="hidden">

                <fieldset class="hidden">
                                                <input name="ancestorId" value="1475637" type="hidden">
                                    <input name="ancestorId" value="1048712" type="hidden">
                                    <input name="ancestorId" value="131081" type="hidden">
                                    </fieldset>
    </fieldset>
</div>




<p>
</p>
                        <!-- Optimization -->
</div>
</td>
</tr>
</tbody></table>
       
       <hr class="grey">
       
       <div class="page-metadata">
    <ul>
                <li class="page-metadata-modification-info">
                    Added by <a class="username:kristina url fn" href="http://www.mongodb.org/display/%7Ekristina">Kristina Chodorow</a>, last edited by <a class="username:scotthernandez url fn" href="http://www.mongodb.org/display/%7Escotthernandez">Scott Hernandez</a> on May 03, 2010
                                        <span class="noprint">&nbsp;(<a href="http://www.mongodb.org/pages/diffpages.action?pageId=1475666&amp;originalId=12157111">view change</a>)</span>
                            </li>
            </ul>
      <div id="versionComment" class="noteMacro" style="padding: 5px; display: none;">
      <strong>Comment:</strong>
      <br>
  </div>

    
</div>                          
                           
       <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://www.mongodb.org/display/DOCS/Optimization"
    dc:identifier="http://www.mongodb.org/display/DOCS/Optimization"
    dc:title="Optimization"
    trackback:ping="http://www.mongodb.org/rpc/trackback/1475666"/>
</rdf:RDF>
-->
       
           
    
    
    


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input id="editLabel" value="Edit" type="hidden">
    <input id="addLabel" value="Add Labels" type="hidden">
    <input id="domainName" value="http://www.mongodb.org" type="hidden">
    <input id="pageId" value="1475666" type="hidden">
    <input id="spaceKey" value="DOCS" type="hidden">
</fieldset>

<div id="labels-section" class="pageSection">
    <div id="default-labels-header" class="section-header">
        <h2 id="labels-section-title" class="section-title ">Labels</h2>
            </div>

    <div class="labels-editor">
        <div id="labelsList">
            <div id="label-7340033" class="confluence-label">
    <a class="label" rel="nofollow" href="http://www.mongodb.org/label/DOCS/explain">explain</a>    <span class="remove-label-caption">explain</span>
    <a class="remove-label" href="#">Delete</a>
</div>
<div id="label-7340034" class="confluence-label">
    <a class="label" rel="nofollow" href="http://www.mongodb.org/label/DOCS/plan">plan</a>    <span class="remove-label-caption">plan</span>
    <a class="remove-label" href="#">Delete</a>
</div>
<div id="label-7340035" class="confluence-label">
    <a class="label" rel="nofollow" href="http://www.mongodb.org/label/DOCS/hint">hint</a>    <span class="remove-label-caption">hint</span>
    <a class="remove-label" href="#">Delete</a>
</div>
        </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="http://www.mongodb.org/display/DOCS/Optimization" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>

                <input autocomplete="off" id="labelsString" name="labelsString" value="" size="40">
                <input class="add-labels" value="Add" type="submit">
                <input class="hide-labels-editor" value="Done" type="submit">
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div class="auto_complete" id="labelsAutocompleteList"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>
       
                   <div id="children-section" class="pageSection">
        
        <div class="section-header ">
            <h2 id="children-section-title" class="section-title">
                <a name="children">Children (2)</a>
            </h2>
            <span class="noprint">
                &nbsp;
                                    <a id="hide-children-link" class="grey" href="http://www.mongodb.org/display/DOCS/Optimization?showChildren=false#children">Hide Children</a>
                
                &nbsp;|&nbsp; <a class="grey" href="http://www.mongodb.org/pages/listpages-dirview.action?key=DOCS&amp;openId=1475666#selectedPageInHierarchy">View in Hierarchy</a>
                            </span>
        </div>
                    <div id="page-children" class="pageSectionBody">
                                                     <img src="docs_16.gif" title="Optimizing Storage of Small Objects" align="absmiddle" border="0" height="16" width="16">
                         <a indepth="true" href="optimizing+storage+of+small+objects.html">Optimizing Storage of Small Objects</a>
                             <br>
                                                     <img src="docs_16.gif" title="Query Optimizer" align="absmiddle" border="0" height="16" width="16">
                         <a indepth="true" href="query+optimizer.html">Query Optimizer</a>
                             <br>
                            </div>
                </div>
           
           

<!--
    Root decorator: this is a layer of abstraction that Confluence doesn't need. It will be removed eventually.
-->




    
        
    
    


<fieldset class="parameters hidden">
    <input id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?" type="hidden">
    <input id="collapseTooltip" value="Click to toggle the display of this comment." type="hidden">
</fieldset>





<div id="comments-section" class="pageSection">
    
            <div class="section-header">
            <ul id="comment-top-links" class="global-comment-actions">
                <li id="comments-expand-collapse">
                    <a href="#" id="comments-collapse">Collapse All</a>
                    <span id="collapse-wait" class="hidden">Collapsing…</span>
                    <span id="expand-wait" class="hidden">Expanding…</span>
                    <a href="#" class="hidden" id="comments-expand">Expand All</a>
                </li>
            </ul>
        </div>
            <!-- added by Kristina 1/7/10 -->
<p>
<b><a style="color: rgb(55, 95, 160);" href="http://groups.google.com/group/mongodb-user">PLEASE POST QUESTIONS IN  THE USER GROUPS FORUM</a>.</b> 
Post non-question comments and helpful hints here.
</p>
            <!-- end -->
<div id="disqus_thread"></div><a href="http://disqus.com/" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    
    
    
                </div>




       
                                    
       </div>
    <br class="clear">
  </div>
</div>

<div class="sponsor">Copyright © <a class="smalltext" href="http://www.10gen.com/">10gen</a>, Inc. All Rights Reserved | Licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons</a></div>







<div id="footer">
                    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="smalltext">Atlassian Confluence</a> 3.0.0_01, the <a href="http://www.atlassian.com/software/confluence" class="smalltext">Enterprise Wiki</a>.</li>
        <li class="print-only">Printed by Atlassian Confluence 3.0.0_01, the Enterprise Wiki.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="smalltext">Bug/feature request</a> –</li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="smalltext">Atlassian news</a> –</li>
        <li class="noprint"><a href="http://www.mongodb.org/administrators.action">Contact administrators</a></li>
    </ul>
</div>


</body></html>
