<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



            <title>Trees in MongoDB - MongoDB</title>
    
        
        
        
        
        

                        
    
    
            
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="atlassian-token" name="atlassian-token" content="yhfQmnp0a3">
<meta id="confluence-space-key" name="confluence-space-key" content="DOCS">



    

<!-- include system resources -->

<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:master-styles/confluence.web.resources:master-styles.css?ieonly=true" media="all"/>
<![endif]-->





<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.macros.profile:profile-macro-styles/confluence.macros.profile:profile-macro-styles.css?ieonly=true" media="all"/>
<![endif]-->



















<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:comments/confluence.web.resources:comments.css?ieonly=true" media="all"/>
<![endif]-->







<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0.2/_/download/batch/com.atlassian.auiplugin:dialog/com.atlassian.auiplugin:dialog.css?ieonly=true" media="all"/>
<![endif]-->






<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1627/3/1.0/_/download/batch/confluence.web.resources:userlink/confluence.web.resources:userlink.css?ieonly=true" media="all"/>
<![endif]-->




<!-- end system resources -->

    

    <meta name="confluence-request-time" content="1283349228680">

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="http://www.mongodb.org/opensearch/osd.action" title="10gen Confluence">

    
        
        
    
    <link rel="shortcut icon" href="favicon_001.ico">  

<link rel="stylesheet" type="text/css" href="trees+in+mongodb.css" media="all">
</head><body id="com-atlassian-confluence">
    


    

        
  
    


  <div id="top-right">
    <div class="user-right">
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="browse-menu-link-leading" class="section-leading first">
                                        <li>
    
    <a id="space-pages-link" href="http://www.mongodb.org/pages/listpages.action?key=DOCS" class="">
                   <span>Pages</span>            </a>
</li>
                                        <li>
    
    <a id="space-blogposts-link" href="http://www.mongodb.org/pages/viewrecentblogposts.action?key=DOCS" class="">
                   <span>News</span>            </a>
</li>
                                        <li>
    
    <a id="space-labels-link" href="http://www.mongodb.org/labels/listlabels-heatmap.action?key=DOCS" class="">
                   <span>Labels</span>            </a>
</li>
                                        <li>
    
    <a id="space-attachments-link" href="http://www.mongodb.org/spaces/listattachmentsforspace.action?key=DOCS" class="">
                   <span>Attachments</span>            </a>
</li>
                                        <li>
    
    <a href="http://www.mongodb.org/spaces/space-bookmarks.action?spaceKey=DOCS" class="">
                   <span>Bookmarks</span>            </a>
</li>
                                        <li>
    
    <a id="space-mail-link" href="http://www.mongodb.org/spaces/viewmailarchive.action?key=DOCS" class="">
                   <span>Mail</span>            </a>
</li>
                                        <li>
    
    <a id="space-advanced-link" href="http://www.mongodb.org/spaces/viewspacesummary.action?key=DOCS" class="">
                   <span>Advanced</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
    
    <a id="login-link" href="http://www.mongodb.org/login.action?os_destination=%2Fdisplay%2FDOCS%2FTrees%2Bin%2BMongoDB" class="user-item login-link">
                   <span>Log In</span>            </a>
</li>
                            </ul>
    </div>
  </div>
  

      <div class="search-db">
      <form id="quick-search" class="quick-search" method="get" action="http://www.mongodb.org/dosearchsite.action">
                <fieldset>
            <legend>Quick Search</legend>
            <input value="" class="quick-search-query" id="quick-search-query" accesskey="q" autocomplete="off" name="queryString" size="25" type="text">
            <input class="quick-search-submit" id="quick-search-submit" value="Search" type="submit">
        </fieldset>
        <fieldset class="hidden parameters">
            <input class="quickSearchPlaceholder" id="quickSearchPlaceholder" value="Search" type="hidden">

            <input id="quickNavEnabled" value="true" type="hidden">
             <!-- Quick nav disabled. SettingsManager could not be found -->         </fieldset>
    </form>
      </div>  


  <div id="header-db" class="spread">
    <div class="split">
    	<div id="logo">
    		<div><a href="http://www.mongodb.org/"><img src="logo-mongodb.png" alt="mongoDB" height="90" width="217"></a></div>
    	</div>
    	<div id="nav">
    	</div>
    </div>
  </div>

  <div id="breadcrumbsback" class="spread">
    <div class="split">

    
    <ol id="breadcrumbs">
                                                
            <li><span>
                                                    <a href="http://www.mongodb.org/display/DOCS">MongoDB</a>
                        </span></li>
                                                                    <li id="ellipsis" title="    …
                    Home
        …"><span><strong>…</strong></span></li>
                                                
            <li class="hidden-crumb"><span>
                                                    <a indepth="true" href="home.html">Home</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="index.html">Developer Zone</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="manual.html">Manual</a>
                        </span></li>
                                            
            <li><span>
                                                    <a indepth="true" href="inserting.html">Inserting</a>
                        </span></li>
                                            
            <li><span>
                                                    Trees in MongoDB
                        </span></li>
                </ol>
 
    </div>
  </div>

  <div id="main-db" class="spread">
    <div class="split">
    
                <ul id="user-control-panel">
                                
            <li class="first"><a href="http://www.mongodb.org/login.action?os_destination=%2Fdisplay%2FDOCS%2FTrees%2Bin%2BMongoDB">Log In</a></li>

                                                        </ul>
        <div>
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input id="pageId" value="4161847" type="hidden">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
            <li class="normal ajs-menu-item">
        <a id="add-menu-link" class="add trigger ajs-menu-title" href="#"><span><span>Add</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="add-menu-link-page" class="section-page first">
                                        <li>
    
    <a id="add-comment-menu-link" href="http://www.mongodb.org/display/DOCS/Trees+in+MongoDB?showComments=true&amp;showCommentArea=true#addcomment" class="add-comment">
                   <span>Comment</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
                    
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul id="action-menu-link-primary" class="section-primary first">
                                        <li>
    
    <a id="view-attachments-link" href="http://www.mongodb.org/pages/viewpageattachments.action?pageId=4161847" class="action-view-attachments" accesskey="a">
                   <span><u>A</u>ttachments (0)</span>            </a>
</li>
                                        <li>
    
    <a id="action-view-history-link" href="http://www.mongodb.org/pages/viewpreviousversions.action?pageId=4161847" class="action-view-history">
                   <span>Page History</span>            </a>
</li>
                            </ul>
                        <ul id="action-menu-link-secondary" class="section-secondary">
                                        <li>
    
    <a id="view-page-info-link" href="http://www.mongodb.org/pages/viewinfo.action?pageId=4161847" class="action-view-info" accesskey="i">
                   <span><u>I</u>nfo</span>            </a>
</li>
                                        <li>
    
    <a id="action-view-source-link" href="http://www.mongodb.org/pages/viewpagesrc.action?pageId=4161847" class="action-view-source popup-link">
                   <span>View Wiki Markup</span>            </a>
</li>
                                        <li>
    
    <a href="http://www.mongodb.org/spaces/flyingpdf/pdfpageexport.action?pageId=4161847&amp;atl_token=yhfQmnp0a3" class="">
                   <span>Export to PDF</span>            </a>
</li>
                                        <li>
    
    <a id="action-export-word-link" href="http://www.mongodb.org/exportword?pageId=4161847" class="action-export-word">
                   <span>Export to Word</span>            </a>
</li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    </div>
    <h1 id="title-heading" class="pagetitle">
                            
		<span id="title-text">
					            <a indepth="true" href="trees+in+mongodb.html">Trees in MongoDB</a>
    				</span>
    </h1>

    <!--
    Root decorator: this is a layer of abstraction that Confluence doesn't need. It will be removed eventually.
-->




    
    

    
    
        
    
    
                    
    



        
<div id="content" class="page view">
            
        
                        
                                
    
        
                    
        
                

 
<table cellpadding="5" cellspacing="2">
<tbody><tr>
<td class="pagecontent" align="left" valign="top" width="78%">
<div class="wiki-content">
<!-- wiki content -->
            <div>
<ul>
    <li><a href="#TreesinMongoDB-Patterns">Patterns</a></li>
<ul>
    <li><a href="#TreesinMongoDB-FullTreeinSingleDocument">Full Tree in Single Document</a></li>
    <li><a href="#TreesinMongoDB-ParentLinks">Parent Links</a></li>
    <li><a href="#TreesinMongoDB-ChildLinks">Child Links</a></li>
    <li><a href="#TreesinMongoDB-ArrayofAncestors">Array of Ancestors</a></li>
    <li><a href="#TreesinMongoDB-MaterializedPaths%28FullPathinEachNode%29">Materialized Paths (Full Path in Each Node)</a></li>
    <li><a href="#TreesinMongoDB-actsasnestedset">acts_as_nested_set</a></li>
</ul>
    <li><a href="#TreesinMongoDB-SeeAlso">See Also</a></li>
</ul></div>
<p>The best way to store a tree usually depends on the operations you want to perform; see below for some different options.&nbsp; In practice, most developers find that one of the "Full Tree in Single Document", "Parent Links", and "Array of Ancestors" patterns works best.</p>

<h2><a name="TreesinMongoDB-Patterns"></a>Patterns</h2>



<h3><a name="TreesinMongoDB-FullTreeinSingleDocument"></a>Full Tree in Single Document</h3>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">{
  comments: [
    {by: <span class="code-quote">"mathias"</span>, text: <span class="code-quote">"..."</span>, replies: []}
    {by: <span class="code-quote">"eliot"</span>, text: <span class="code-quote">"..."</span>, replies: [
      {by: <span class="code-quote">"mike"</span>, text: <span class="code-quote">"..."</span>, replies: []}
    ]}
  ]
}
</pre>
</div></div>
<p>Pros:</p>
<ul>
	<li>Single document to fetch per page</li>
	<li>One location on disk for whole tree</li>
	<li>You can see full structure easily</li>
</ul>


<p>Cons:</p>
<ul>
	<li>Hard to search</li>
	<li>Hard to get back partial results</li>
	<li>Can get unwieldy if you need a huge tree (there is a 4MB per doc limit)</li>
</ul>


<h3><a name="TreesinMongoDB-ParentLinks"></a>Parent Links</h3>

<p>Storing all nodes in a single collection, with each node having the id of its parent, is a simple solution.  The biggest problem with this approach is getting an entire subtree requires several query turnarounds to the database (or use of <a href="http://www.mongodb.org/display/DOCS/Server-Side+Processing" title="Server-Side Processing">db.eval</a>).</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&gt; t = db.tree1;

&gt; t.find()
{ <span class="code-quote">"_id"</span> : 1 }
{ <span class="code-quote">"_id"</span> : 2, <span class="code-quote">"parent"</span> : 1 }
{ <span class="code-quote">"_id"</span> : 3, <span class="code-quote">"parent"</span> : 1 }
{ <span class="code-quote">"_id"</span> : 4, <span class="code-quote">"parent"</span> : 2 }
{ <span class="code-quote">"_id"</span> : 5, <span class="code-quote">"parent"</span> : 4 }
{ <span class="code-quote">"_id"</span> : 6, <span class="code-quote">"parent"</span> : 4 }

&gt; <span class="code-comment">// find children of node 4
</span>&gt; t.ensureIndex({parent:1})
&gt; t.find( {parent : 4 } )
{ <span class="code-quote">"_id"</span> : 5, <span class="code-quote">"parent"</span> : 4 }
{ <span class="code-quote">"_id"</span> : 6, <span class="code-quote">"parent"</span> : 4 }
</pre>
</div></div>

<h3><a name="TreesinMongoDB-ChildLinks"></a>Child Links</h3>

<p>Another option is storing the ids of all of a node's children within each node's document.  This approach is fairly limiting, although ok if no operations on entire subtrees are necessary.  It may also be good for storing graphs where a node has multiple parents.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&gt; t = db.tree2
&gt; t.find()
{ <span class="code-quote">"_id"</span> : 1, <span class="code-quote">"children"</span> : [ 2, 3 ] }
{ <span class="code-quote">"_id"</span> : 2 }
{ <span class="code-quote">"_id"</span> : 3, <span class="code-quote">"children"</span> : [ 4 ] }
{ <span class="code-quote">"_id"</span> : 4 }

&gt; <span class="code-comment">// find immediate children of node 3
</span>&gt; t.findOne({_id:3}).children
[ 4 ]

&gt; <span class="code-comment">// find immediate parent of node 3
</span>&gt; t.ensureIndex({children:1})
&gt; t.find({children:3})
{ <span class="code-quote">"_id"</span> : 1, <span class="code-quote">"children"</span> : [ 2, 3 ] }
</pre>
</div></div>

<h3><a name="TreesinMongoDB-ArrayofAncestors"></a>Array of Ancestors</h3>

<p>Here we store all the ancestors of a node in an array. This makes a query like "get all descendents of x" fast and easy.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&gt; t = db.mytree;

&gt; t.find()
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"a"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"b"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"a"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"c"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"b"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"d"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"b"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"e"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"a"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"f"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"e"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"e"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span>, <span class="code-quote">"d"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"d"</span> }

&gt; t.ensureIndex( { ancestors : 1 } )

&gt; <span class="code-comment">// find all descendents of b:
</span>&gt; t.find( { ancestors : 'b' })
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"c"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"b"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"d"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"b"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span>, <span class="code-quote">"b"</span>, <span class="code-quote">"d"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"d"</span> }

&gt; <span class="code-comment">// get all ancestors of f:
</span>&gt; anc = db.mytree.findOne({_id:'f'}).ancestors
[ <span class="code-quote">"a"</span>, <span class="code-quote">"e"</span> ]
&gt; db.mytree.find( { _id : { $in : anc } } )
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"a"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"e"</span>, <span class="code-quote">"ancestors"</span> : [ <span class="code-quote">"a"</span> ], <span class="code-quote">"parent"</span> : <span class="code-quote">"a"</span> }
</pre>
</div></div>
<p>ensureIndex and MongoDB's <a indepth="true" href="multikeys.html" title="Multikeys">multikey</a> feature makes the above queries efficient.</p>

<p>In addition to the ancestors array, we also stored the direct parent in the node to make it easy to find the node's immediate parent when that is necessary.</p>

<h3><a name="TreesinMongoDB-MaterializedPaths(FullPathinEachNode)"></a>Materialized Paths (Full Path in Each Node)</h3>

<p><a href="http://en.wikipedia.org/wiki/Materialized_path">Materialized paths</a> make certain query options on trees easy.&nbsp; We store the full path to the location of a document in the tree within each node.&nbsp; Usually the "array of ancestors" approach above works just as well, and is easier as one doesn't have to deal with string building, regular expressions, and escaping of characters.&nbsp; (Theoretically, materialized paths will be <em>slightly</em> faster.)</p>


<p>The best way to do this with MongoDB is to store the path as a string and then use regex queries.&nbsp; Simple regex expressions beginning with "^" can be efficiently executed.&nbsp; As the path is a string, you will need to pick a delimiter character -- we use ',' below.&nbsp; For example:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&gt; t = db.tree
test.tree

&gt; <span class="code-comment">// get entire tree -- we use sort() to make the order nice
</span>&gt; t.find().sort({path:1})
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"a"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"b"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"c"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,c,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"d"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,d,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,g,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"e"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,e,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"f"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,e,f,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,g,"</span> }

&gt; t.ensureIndex( {path:1} )

&gt; <span class="code-comment">// find the node 'b' and all its descendents:
</span>&gt; t.find( { path : /^a,b,/ } )
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"b"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"c"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,c,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"d"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,d,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,g,"</span> }

<span class="code-comment">// or <span class="code-keyword">if</span> its path not already known:
</span>&gt; b = t.findOne( { _id : <span class="code-quote">"b"</span> } )
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"b"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,"</span> }
&gt; t.find( { path : <span class="code-keyword">new</span> RegExp(<span class="code-quote">"^"</span> + b.path) } )
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"b"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"c"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,c,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"d"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,d,"</span> }
{ <span class="code-quote">"_id"</span> : <span class="code-quote">"g"</span>, <span class="code-quote">"path"</span> : <span class="code-quote">"a,b,g,"</span> }
</pre>
</div></div>
<p>Ruby example: <a href="http://github.com/banker/newsmonger/blob/master/app/models/comment.rb">http://github.com/banker/newsmonger/blob/master/app/models/comment.rb</a></p>

<h3><a name="TreesinMongoDB-actsasnestedset"></a>acts_as_nested_set</h3>

<p>See <a href="http://api.rubyonrails.org/classes/ActiveRecord/Acts/NestedSet/ClassMethods.html">http://api.rubyonrails.org/classes/ActiveRecord/Acts/NestedSet/ClassMethods.html</a></p>

<p>This pattern is best for datasets that rarely change as modifications can require changes to many documents.</p>




<h2><a name="TreesinMongoDB-SeeAlso"></a>See Also</h2>

<ul>
	<li>Sean Cribbs <a href="http://seancribbs.com/tech/2009/09/28/modeling-a-tree-in-a-document-database/">blog post</a> (source of several ideas on this page).</li>
</ul>
</div>
</td>
<td class="noprint" align="left" valign="top" width="22%">
<div class="spacetree">
                                            
    

<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input name="treeId" value="" type="hidden">
        <input name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" type="hidden">
        <input name="treePageId" value="4161847" type="hidden">

        <input name="noRoot" value="false" type="hidden">
        <input name="rootPageId" value="131081" type="hidden">

        <input name="rootPage" value="" type="hidden">
        <input name="startDepth" value="0" type="hidden">
        <input name="spaceKey" value="DOCS" type="hidden">

        <input name="i18n-pagetree.loading" value="Loading..." type="hidden">
        <input name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2FDOCS%2FTrees%2Bin%2BMongoDB" type="hidden">

                <fieldset class="hidden">
                                                <input name="ancestorId" value="1475663" type="hidden">
                                    <input name="ancestorId" value="1475637" type="hidden">
                                    <input name="ancestorId" value="1048712" type="hidden">
                                    <input name="ancestorId" value="131081" type="hidden">
                                    </fieldset>
    </fieldset>
</div>




<p>
</p>
                        <!-- Trees in MongoDB -->
</div>
</td>
</tr>
</tbody></table>
       
       <hr class="grey">
       
       <div class="page-metadata">
    <ul>
                <li class="page-metadata-modification-info">
                    Added by <a class="username:mathias url fn" href="http://www.mongodb.org/display/%7Emathias">Mathias Stearn</a>, last edited by <a class="username:dwight url fn" href="http://www.mongodb.org/display/%7Edwight">Dwight Merriman</a> on Mar 10, 2010
                                        <span class="noprint">&nbsp;(<a href="http://www.mongodb.org/pages/diffpages.action?pageId=4161847&amp;originalId=7209746">view change</a>)</span>
                            </li>
            </ul>
      <div id="versionComment" class="noteMacro" style="padding: 5px; display: none;">
      <strong>Comment:</strong>
      <br>
  </div>

    
</div>                          
                           
       <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://www.mongodb.org/display/DOCS/Trees+in+MongoDB"
    dc:identifier="http://www.mongodb.org/display/DOCS/Trees+in+MongoDB"
    dc:title="Trees in MongoDB"
    trackback:ping="http://www.mongodb.org/rpc/trackback/4161847"/>
</rdf:RDF>
-->
       
           
    
    
    


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input id="editLabel" value="Edit" type="hidden">
    <input id="addLabel" value="Add Labels" type="hidden">
    <input id="domainName" value="http://www.mongodb.org" type="hidden">
    <input id="pageId" value="4161847" type="hidden">
    <input id="spaceKey" value="DOCS" type="hidden">
</fieldset>

<div id="labels-section" class="pageSection">
    <div id="default-labels-header" class="section-header">
        <h2 id="labels-section-title" class="section-title  hidden ">Labels</h2>
            </div>

    <div class="labels-editor">
        <div id="labelsList">
                    </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="http://www.mongodb.org/display/DOCS/Trees+in+MongoDB" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>

                <input autocomplete="off" id="labelsString" name="labelsString" value="" size="40">
                <input class="add-labels" value="Add" type="submit">
                <input class="hide-labels-editor" value="Done" type="submit">
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div class="auto_complete" id="labelsAutocompleteList"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>
       
                  
           

<!--
    Root decorator: this is a layer of abstraction that Confluence doesn't need. It will be removed eventually.
-->




    
        
    
    


<fieldset class="parameters hidden">
    <input id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?" type="hidden">
    <input id="collapseTooltip" value="Click to toggle the display of this comment." type="hidden">
</fieldset>





<div id="comments-section" class="pageSection">
    
            <div class="section-header">
            <ul id="comment-top-links" class="global-comment-actions">
                <li id="comments-expand-collapse">
                    <a href="#" id="comments-collapse">Collapse All</a>
                    <span id="collapse-wait" class="hidden">Collapsing…</span>
                    <span id="expand-wait" class="hidden">Expanding…</span>
                    <a href="#" class="hidden" id="comments-expand">Expand All</a>
                </li>
            </ul>
        </div>
            <!-- added by Kristina 1/7/10 -->
<p>
<b><a style="color: rgb(55, 95, 160);" href="http://groups.google.com/group/mongodb-user">PLEASE POST QUESTIONS IN  THE USER GROUPS FORUM</a>.</b> 
Post non-question comments and helpful hints here.
</p>
            <!-- end -->
<div id="disqus_thread"></div><a href="http://disqus.com/" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    
    
    
                </div>




       
                                    
       </div>
    <br class="clear">
  </div>
</div>

<div class="sponsor">Copyright © <a class="smalltext" href="http://www.10gen.com/">10gen</a>, Inc. All Rights Reserved | Licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons</a></div>







<div id="footer">
                    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="smalltext">Atlassian Confluence</a> 3.0.0_01, the <a href="http://www.atlassian.com/software/confluence" class="smalltext">Enterprise Wiki</a>.</li>
        <li class="print-only">Printed by Atlassian Confluence 3.0.0_01, the Enterprise Wiki.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="smalltext">Bug/feature request</a> –</li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="smalltext">Atlassian news</a> –</li>
        <li class="noprint"><a href="http://www.mongodb.org/administrators.action">Contact administrators</a></li>
    </ul>
</div>


</body></html>
