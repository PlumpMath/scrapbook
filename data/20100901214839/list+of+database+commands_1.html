<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Commands List</title>


<link rel="stylesheet" type="text/css" href="list+of+database+commands_1.css" media="all">
</head><body>
<p><a href="http://localhost:28017/" title="back">Home</a></p>
<p><b>MongoDB List of <a indepth="true" href="commands.html">Commands</a></b>
</p>
S:slave-ok  R:read-lock  W:write-lock  A:admin-only<br>

<table border="1" cellpadding="2" cellspacing="0">
<tbody><tr><th>Command</th><th>Attributes</th><th>Help</th></tr>

<tr><td>_recvChunkCommit</td>
<td>A</td><td>internal should not be calling this directly<br></td></tr>

<tr><td>_recvChunkStart</td>
<td>W A</td><td>internal should not be calling this directly<br></td></tr>

<tr><td>_recvChunkStatus</td>
<td>A</td><td>internal should not be calling this directly<br></td></tr>

<tr><td>_testDistLockWithSyncCluster</td>
<td>A</td><td>should not be calling this directly<br></td></tr>

<tr><td>_transferMods</td>
<td>A</td><td>internal should not be calling this directly<br></td></tr>

<tr><td>applyOps</td>
<td>W </td><td>examples: <code>{ applyOps : [ ] , preCondition : [ <code>{ ns : ... , q : ... , res : ... }</code> ] }</code></td></tr>

<tr><td><a href="http://localhost:28017/assertInfo?text=1">assertInfo</a></td>
<td>W S </td><td>check if any asserts have occurred on the server</td></tr>

<tr><td>authenticate</td>
<td>W S </td><td>internal</td></tr>

<tr><td>availablequeryoptions</td>
<td>S </td><td></td></tr>

<tr><td><a href="http://localhost:28017/buildInfo?text=1">buildInfo</a></td>
<td>S A</td><td>get version #, etc.<br><code>{ buildinfo:1 }</code></td></tr>

<tr><td>captrunc</td>
<td>W </td><td></td></tr>

<tr><td>clean</td>
<td>W S </td><td>internal</td></tr>

<tr><td>clone</td>
<td>W </td><td>clone this database from an instance of the db on another host<br><code>{ clone : "host13" }</code></td></tr>

<tr><td>cloneCollection</td>
<td></td><td><code>{ cloneCollection: &lt;namespace&gt;, from: &lt;host&gt; [,query: &lt;query_filter&gt;] [,copyIndexes:&lt;bool&gt;] }</code><br>Copies a collection from one server to another. Do not use on a single server as the destination is placed at the same db.collection (namespace) as the source.<br>Warning: the local copy of 'ns' is emptied before the copying begins. Any existing data will be lost there.</td></tr>

<tr><td>cloneCollectionAsCapped</td>
<td>W </td><td><code>{ cloneCollectionAsCapped:&lt;fromName&gt;, toCollection:&lt;toName&gt;, size:&lt;sizeInBytes&gt; }</code></td></tr>

<tr><td>closeAllDatabases</td>
<td>W A</td><td>Close all database files.<br>A new request will cause an immediate reopening; thus, this is mostly for testing purposes.</td></tr>

<tr><td>collStats</td>
<td>R S </td><td><code>{ collStats:"blog.posts" , scale : 1 }</code> scale divides sizes e.g. for KB use 1024</td></tr>

<tr><td>connPoolStats</td>
<td>S </td><td>stats about connection pool</td></tr>

<tr><td>connPoolSync</td>
<td>S </td><td>internal</td></tr>

<tr><td>convertToCapped</td>
<td>W </td><td><code>{ convertToCapped:&lt;fromCollectionName&gt;, size:&lt;sizeInBytes&gt; }</code></td></tr>

<tr><td>copydb</td>
<td>W A</td><td>copy a database from another host to this host<br>usage: <code>{copydb: 1, fromhost: &lt;hostname&gt;, fromdb: &lt;db&gt;, todb: &lt;db&gt;[, username: &lt;username&gt;, nonce: &lt;nonce&gt;, key: &lt;key&gt;]}</code></td></tr>

<tr><td>copydbgetnonce</td>
<td>W A</td><td>get a nonce for subsequent copy db request from secure server<br>usage: <code>{copydbgetnonce: 1, fromhost: &lt;hostname&gt;}</code></td></tr>

<tr><td>count</td>
<td>R </td><td>count objects in collection</td></tr>

<tr><td>create</td>
<td>W </td><td>create a collection</td></tr>

<tr><td><a href="http://localhost:28017/cursorInfo?text=1">cursorInfo</a></td>
<td>S </td><td> example: <code>{ cursorInfo : 1 }</code></td></tr>

<tr><td>dataSize</td>
<td>R S </td><td>determine data size for a set of data in a certain range<br>example: <code>{ dataSize:"blog.posts", keyPattern:<code>{x:1}</code>, min:<code>{x:10}</code>, max:<code>{x:55}</code> }</code><br>keyPattern, min, and max parameters are optional.<br>note: This command may take a while to run</td></tr>

<tr><td>dbHash</td>
<td>R S </td><td></td></tr>

<tr><td>dbStats</td>
<td>R S </td><td> example: <code>{ dbStats:1 }</code> </td></tr>

<tr><td>diagLogging</td>
<td>W S A</td><td><a href="http://www.mongodb.org/display/DOCS/Monitoring+and+Diagnostics#MonitoringandDiagnostics-DatabaseRecord%2FReplay">DOCS/Monitoring and Diagnostics</a></td></tr>

<tr><td>distinct</td>
<td>R S </td><td><code>{ distinct : 'collection name' , key : 'a.b' , query : <code>{}</code> }</code></td></tr>

<tr><td>driverOIDTest</td>
<td>S </td><td></td></tr>

<tr><td>drop</td>
<td>W </td><td>drop a collection<br><code>{drop : &lt;collectionName&gt;}</code></td></tr>

<tr><td>dropDatabase</td>
<td>W </td><td>drop (delete) this database</td></tr>

<tr><td>dropIndexes</td>
<td>W </td><td>drop indexes for a collection</td></tr>

<tr><td>emptycapped</td>
<td>W </td><td></td></tr>

<tr><td>eval</td>
<td></td><td>Evaluate javascript at the server.<br><a indepth="true" href="server-side+code+execution.html">DOCS/Server-side Code Execution</a></td></tr>

<tr><td><a href="http://localhost:28017/features?text=1">features</a></td>
<td>R S </td><td>return on build level feature settings</td></tr>

<tr><td>filemd5</td>
<td>R S </td><td> example: <code>{ filemd5 : ObjectId(aaaaaaa) , root : "fs" }</code></td></tr>

<tr><td>findAndModify</td>
<td>W </td><td><code>{ findAndModify: "collection", query: <code>{processed:false}</code>, update: <code>{$set: <code>{processed:true}</code>}</code>, new: true}</code><br><code>{ findAndModify: "collection", query: <code>{processed:false}</code>, remove: true, sort: <code>{priority:-1}</code>}</code><br>Either update or remove is required, all other fields have default values.<br>Output is in the "value" field<br></td></tr>

<tr><td>forcedead</td>
<td>W S A</td><td>internal</td></tr>

<tr><td>forceerror</td>
<td>S </td><td>for testing purposes only.  forces a user assertion exception</td></tr>

<tr><td>fsync</td>
<td>W S A</td><td><a indepth="true" href="fsync+command.html">DOCS/fsync Command</a></td></tr>

<tr><td>geoNear</td>
<td>R S </td><td><a indepth="true" href="geospatial+indexing.html#GeospatialIndexing-geoNearCommand">DOCS/Geospatial Indexing</a></td></tr>

<tr><td>geoSearch</td>
<td>R S </td><td></td></tr>

<tr><td>geoWalk</td>
<td>R S </td><td></td></tr>

<tr><td>getCmdLineOpts</td>
<td>S A</td><td>get argv</td></tr>

<tr><td>getLastError</td>
<td>S </td><td>return error status of the last operation on this connection</td></tr>

<tr><td>getPrevError</td>
<td>S </td><td>check for errors since last reseterror commandcal</td></tr>

<tr><td>getShardVersion</td>
<td>A</td><td> example: <code>{ getShardVersion : 'alleyinsider.foo'  }</code> </td></tr>

<tr><td>getnonce</td>
<td>S </td><td>internal</td></tr>

<tr><td>getoptime</td>
<td>S </td><td>internal</td></tr>

<tr><td>godinsert</td>
<td>W </td><td>internal. for testing only.</td></tr>

<tr><td>group</td>
<td>R S </td><td><a indepth="true" href="aggregation.html">DOCS/Aggregation</a></td></tr>

<tr><td>handshake</td>
<td>S </td><td>internal</td></tr>

<tr><td><a href="http://localhost:28017/isMaster?text=1">isMaster</a></td>
<td>S </td><td>Check if this server is primary for a replica pair/set; also if it is --master or --slave in simple master/slave setups.<br><code>{ isMaster : 1 }</code></td></tr>

<tr><td>isinitialsynccomplete</td>
<td>W S </td><td></td></tr>

<tr><td>listCommands</td>
<td>S </td><td>get a list of all db commands</td></tr>

<tr><td>listDatabases</td>
<td>R S A</td><td>list databases on this server</td></tr>

<tr><td>logRotate</td>
<td>S A</td><td></td></tr>

<tr><td>logout</td>
<td>S </td><td>de-authenticate</td></tr>

<tr><td>mapReduce</td>
<td>S </td><td>Run a map/reduce operation on the server.<br>Note this is used for aggregation, not querying, in MongoDB.<br><a indepth="true" href="mapreduce.html">DOCS/MapReduce</a></td></tr>

<tr><td>mapreduce.shardedfinish</td>
<td>S </td><td></td></tr>

<tr><td>medianKey</td>
<td>R S </td><td>Internal command.<br>example: <code>{ medianKey:"blog.posts", keyPattern:<code>{x:1}</code>, min:<code>{x:10}</code>, max:<code>{x:55}</code> }</code><br>NOTE: This command may take a while to run</td></tr>

<tr><td>moveChunk</td>
<td>A</td><td>should not be calling this directly<br></td></tr>

<tr><td>negotiatemaster</td>
<td>W S A</td><td></td></tr>

<tr><td>ping</td>
<td>S </td><td>a way to check that the server is alive. responds immediately even if server is in a db lock.</td></tr>

<tr><td>profile</td>
<td>W S </td><td>enable or disable performance profiling<br><code>{ profile : &lt;n&gt; }</code><br>0=off 1=log slow ops 2=log all<br><a href="http://www.mongodb.org/display/DOCS/Database+Profiler">DOCS/Database Profiler</a></td></tr>

<tr><td>reIndex</td>
<td>W S </td><td>re-index a collection</td></tr>

<tr><td>renameCollection</td>
<td>W A</td><td> example: <code>{ renameCollection: foo.a, to: bar.b }</code></td></tr>

<tr><td>repairDatabase</td>
<td>W S </td><td>repair database.  also compacts. note: slow.</td></tr>

<tr><td>replSetElect</td>
<td>S A</td><td>internal</td></tr>

<tr><td>replSetFreeze</td>
<td>S A</td><td>Enable / disable failover for the set - locks current primary as primary even if issues occur.<br>For use during system maintenance.<br><code>{ replSetFreeze : &lt;bool&gt; }</code><br><a href="http://www.mongodb.org/display/DOCS/Replica+Set+Commands">DOCS/Replica Set Commands</a></td></tr>

<tr><td>replSetFresh</td>
<td>S A</td><td>internal</td></tr>

<tr><td>replSetGetRBID</td>
<td>S A</td><td>internal</td></tr>

<tr><td><a href="http://localhost:28017/replSetGetStatus?text=1">replSetGetStatus</a></td>
<td>S A</td><td>Report status of a replica set from the POV of this server<br><code>{ replSetGetStatus : 1 }</code><br><a href="http://www.mongodb.org/display/DOCS/Replica+Set+Commands">DOCS/Replica Set Commands</a></td></tr>

<tr><td>replSetHeartbeat</td>
<td>S </td><td>internal</td></tr>

<tr><td>replSetInitiate</td>
<td>S A</td><td>Initiate/christen a replica set.<br><a href="http://www.mongodb.org/display/DOCS/Replica+Set+Commands">DOCS/Replica Set Commands</a></td></tr>

<tr><td>replSetReconfig</td>
<td>S A</td><td>Adjust configuration of a replica set<br><code>{ replSetReconfig : config_object }</code><br><a href="http://www.mongodb.org/display/DOCS/Replica+Set+Commands">DOCS/Replica Set Commands</a></td></tr>

<tr><td>replSetStepDown</td>
<td>S A</td><td>Step down as primary.  Will not try to reelect self or 1 minute.<br>(If another member with same priority takes over in the meantime, it will stay primary.)<br><a href="http://www.mongodb.org/display/DOCS/Replica+Set+Commands">DOCS/Replica Set Commands</a></td></tr>

<tr><td>replSetTest</td>
<td>S A</td><td>Just for regression tests.<br></td></tr>

<tr><td>replacePeer</td>
<td>W S A</td><td>replace a node in a replica pair</td></tr>

<tr><td>resetError</td>
<td>S </td><td>reset error state (used with getpreverror)</td></tr>

<tr><td>resync</td>
<td>W S A</td><td>resync (from scratch) an out of date replica slave.<br><a indepth="true" href="master+slave.html">DOCS/Master Slave</a></td></tr>

<tr><td><a href="http://localhost:28017/serverStatus?text=1">serverStatus</a></td>
<td>S </td><td>returns lots of administrative server statistics</td></tr>

<tr><td>setShardVersion</td>
<td>W A</td><td> example: <code>{ setShardVersion : 'alleyinsider.foo' , version : 1 , configdb : '' }</code> </td></tr>

<tr><td>shardingState</td>
<td>W A</td><td></td></tr>

<tr><td>shutdown</td>
<td>S A</td><td>shutdown the database.  must be ran against admin db and either (1) ran from localhost or (2) authenticated.<br></td></tr>

<tr><td>sleep</td>
<td>S A</td><td>internal testing command.  Makes db block (in a read lock) for 100 seconds<br>w:true write lock</td></tr>

<tr><td>splitVector</td>
<td>R </td><td>Internal command.<br>example: <code>{ splitVector : "blog.post" , keyPattern:<code>{x:1}</code> , min:<code>{x:10}</code> , max:<code>{x:20}</code>, maxChunkSize:200 }</code><br>maxChunkSize unit in MBs<br>NOTE: This command may take a while to run</td></tr>

<tr><td><a href="http://localhost:28017/top?text=1">top</a></td>
<td>R S A</td><td>usage by collection</td></tr>

<tr><td>unsetSharding</td>
<td>A</td><td> example: <code>{ unsetSharding : 1 }</code> </td></tr>

<tr><td>validate</td>
<td>R S </td><td>Validate contents of a namespace by scanning its data structures for correctness.  Slow.</td></tr>

<tr><td>whatsmyuri</td>
<td>S </td><td><code>{whatsmyuri:1}</code></td></tr>

<tr><td>writebacklisten</td>
<td>S A</td><td>internal</td></tr>
</tbody></table>

</body></html>
